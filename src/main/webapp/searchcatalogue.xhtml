<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/WEB-INF/Template.xhtml" css="Template.css"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<ui:define name="pagetitle">
		<div id="header">
			<h1>Catalogue Search</h1>
		</div>
	</ui:define>

	<ui:define name="maincontent">
			<!-- author: Iain Q -->
		<h:form id="catalogueform">
		<!-- dynamically-constructed dataTable with data pulled from the product list -->
		 <h:dataTable id="productTable" value="#{catalogue.searchProducts(param['type'])}" var="products"     > 

			<h:column>
				<f:facet name="header">Image</f:facet>
				<h:graphicImage url="#{products.imageLocation}"  
				
				   ></h:graphicImage>
			</h:column>
			<h:column>
				<f:facet name="header">Name</f:facet>
				<h:outputLink value="product.xhtml" >#{products.name} <f:param name="id" value="#{products.product_id}" /></h:outputLink>
			</h:column>
			<h:column>
				<f:facet name="header">ID</f:facet>
				<h:outputLabel value="#{products.product_id}" />
			</h:column>
			<h:column>
				<f:facet name="header">Type</f:facet>    				
			     <h:outputText value=" #{products.product_type}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Description</f:facet>
			      No description yet.
			</h:column>
			<h:column>
				<f:facet name="header">Stock</f:facet>
			    <h:outputLabel value="#{products.stock}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Cost Per Unit</f:facet>
			    <h:outputLabel value="&#163;#{products.price}"/>
			</h:column>

		</h:dataTable>
		</h:form>
	</ui:define>
</ui:composition>